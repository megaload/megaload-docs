<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Load testing - Megaload</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../style.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Load testing";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Megaload</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Overview</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../qs_full/">Quick start</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Using Megaload</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_dashboards/">The Megaload UI</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Load testing</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#load-testing-with-megaload">Load testing with Megaload</a></li>
                
                    <li><a class="toctree-l4" href="#loading-a-json-test">Loading a JSON test</a></li>
                
                    <li><a class="toctree-l4" href="#editing-uploading-and-clearing-tests">Editing, uploading, and clearing tests</a></li>
                
                    <li><a class="toctree-l4" href="#loading-an-escript-test">Loading an Escript test</a></li>
                
                    <li><a class="toctree-l4" href="#running-a-test">Running a test</a></li>
                
                    <li><a class="toctree-l4" href="#viewing-test-results">Viewing test results</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_monitoring/">Monitoring</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tests</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../test_write/">Writing a Megaload test</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../test_spec/">Test specification</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/">Examples</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Test elements</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../protocols/">Protocols</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../actions/">Actions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../assertions/">Assertions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../counters/">Counters</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Actions</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_time/">Time</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_csv/">CSV handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_stat_counter/">Statistical counters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_test_counter/">Test counters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_generic_checks/">Generic checks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_logical/">Logical operators</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_control/">Control structures</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_variable/">Variables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_url/">URL handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_json/">JSON handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_string/">String handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../action_math/">Math</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Escript</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../escript_test_spec/">Escript test specification</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../escript_api/">Escript API</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>API</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest_api_intro/">Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest_api_error/">Errors</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest_api_runner/">Runner</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest_api_configuration/">Upload configuration</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest_api_escript/">Escript handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest_api_reporting/">Reporting</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../resources/">Additional resources</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../about/">About</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Megaload</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Using Megaload &raquo;</li>
        
      
    
    <li>Load testing</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="load-testing-with-megaload">Load testing with Megaload</h1>
<p>The <strong>Load test</strong> page provides all the functionality required to upload, edit and run tests, and to view test results.</p>
<h2 id="loading-a-json-test">Loading a JSON test</h2>
<p>Use the <strong>Upload test cases</strong> tab to upload the test specification and any additional data. Additional data might be a CSV file that contains usernames and passwords to connect to a specific HTTP server.</p>
<p>To upload a test specification:</p>
<ol>
<li>Click <strong>Upload test cases</strong>.</li>
<li>Click the load generator on the left. This shows the upload controls on the right.</li>
<li>Click <strong>Add files</strong> and select the files to upload.</li>
<li>Click <strong>Start upload</strong> or <strong>Start</strong> to upload the individual files.<br />
   The status shows as <strong>Uploaded</strong> or, if the test specification is invalid, <strong>Error</strong>. If an error occurs, a pop-up window will show the reason.</li>
</ol>
<p><img alt="" src="../images/upload-file.png" /></p>
<p>You can split the test specification into separate files and upload them independently. For example, you can upload the test, phases, and scenarios as separate files. Only the contents are stored in Megaload, not the files themselves. When you download or edit the test specification, you'll note that everything becomes a single JSON list.</p>
<p>After uploading tests, you can view and edit the test specification in the <a href="#editing-tests">JSON editor</a>.</p>
<h3 id="aditional-data">Aditional data</h3>
<p>Any other data required to execute the test, as a CSV file containing some test parameters, can be uploaded with the <strong>Upload additional data</strong> option. These data files will be sent to all load engines in Megaload's load generator. If the option <strong>Unique IDs</strong> is selected, the file is split by rows between all the engines in the generator.</p>
<p>A use case for the <strong>Unique IDs</strong> option is a list of unique user-password pairs that cannot be duplicated between engines. These user-password pairs can be stored in a CSV file, which is then split between engines with this option. For example, in a 4-engine generator with a 1000-lines CSV file, each block of 250 lines will be uploaded to a different engine.</p>
<h2 id="editing-uploading-and-clearing-tests">Editing, uploading, and clearing tests</h2>
<p>The <strong>Edit test cases</strong> tab provides a JSON test editor that does basic syntactic checks to help you write test specifications. From here, you can also do the following:</p>
<ul>
<li><a href="#uploading-tests-from-the-editor">Upload</a> tests or test objects to test specification for the load generator</li>
<li><a href="#downloading-the-test-specification">Download</a> the full test specification currently loaded for the load generator</li>
<li><a href="#clearing-tests-from-megaload">Clear</a> the test specification for the load generator</li>
</ul>
<p>To view the editor, first select the Megaload generator on the left. This will show the editor on the right, containing the test specification that is currently loaded.</p>
<p><img alt="" src="../images/editor.png" />
<!-- <img alt="" src="images/edit-file.png" /> --></p>
<p>Note that using the editor is not obligatory. You can write your tests in any text editor of your choice, and then <a href="#loading-a-json-test">upload</a> the files directly to Megaload. If you need to do further editing, you can <a href="#opening-a-test">open</a> your files in the editor and make changes there.</p>
<p>You can also edit and upload the objects that make up a Megaload test specification.</p>
<h3 id="opening-a-test">Opening a test</h3>
<p>To open an existing JSON test from disk, click <strong>Open</strong> in the editor toolbar, and then select the file. Note that the editor will only accept files that contain valid JSON.</p>
<h3 id="making-changes-to-tests">Making changes to tests</h3>
<p>The JSON editor features syntax highlighting, automatic indentation, and other tools for editing JSON. You can view the text as code or as a tree with expandable and collapsable nodes. Switch between these modes using the dropdown button in the toolbar.</p>
<p><strong>Note:</strong> If you leave the page after making changes in the editor, you will lose those changes. You can <a href="#saving-your-test">save</a> the contents of the editor to disk, or <a href="#uploading-tests-from-the-editor">upload</a> the contents to add them to the test specification for the load generator. The changes you make in the editor will have no effect until you upload the test.</p>
<p><a name="editing-notes"></a>
Also note the following:</p>
<ul>
<li>You cannot <em>remove</em> objects, but elements and their values can be updated.</li>
<li>If you change an object's <strong>ID</strong>, this will result in a new object with that ID being added; the existing object will remain in place. References to the object's ID should be changed, if necessary.</li>
</ul>
<h3 id="saving-your-test">Saving your test</h3>
<p>To save the contents of the editor to your local disk, click <strong>Save</strong> in the editor toolbar. Note that this only saves the contents of the editor; the full test specification that is loaded in the load generator may be different. Saving doesn't change the currently loaded test specification.</p>
<p>If you opened a file from disk, it will be saved with its original filename, otherwise it will be downloaded as <code>document.json</code>.</p>
<h3 id="uploading-tests-from-the-editor">Uploading tests from the editor</h3>
<p>To add the test in the editor to the current test specification for the load generator, click <strong>Upload</strong> in the editor toolbar. This will add the objects in the editor to the specification, or update objects that are already loaded where applicable.</p>
<p>Note that this action won't <em>replace</em> the currently loaded test specification, but only add or update objects. See the notes under <a href="#editing-notes">Making changes to tests</a> for more information.</p>
<h3 id="downloading-the-test-specification">Downloading the test specification</h3>
<p>To download the full list of JSON specifications currently uploaded in the system as a single list of JSON objects, click <strong>Download</strong> in the editor toolbar. The file will be downloaded as <code>megaload-&lt;timestamp&gt;.json</code>.</p>
<!-- ![](images/download-config.png) -->

<h3 id="clearing-tests-from-megaload">Clearing tests from Megaload</h3>
<p>You can clear the current test specification from the load generator. In the editor toolbar, click <strong>Clear</strong>, and then click <strong>OK</strong>.</p>
<h2 id="loading-an-escript-test">Loading an Escript test</h2>
<p>Use the <strong>Escript test</strong> tab to upload an Escript test specification. Each uploaded Escript is given an unique identifier in the system that is shown in the user interface after the upload. You can also download all Escript files stored in Megaload from this page.</p>
<p><img alt="" src="../images/upload-escript.png" /></p>
<h2 id="running-a-test">Running a test</h2>
<p>The <strong>Runner</strong> tab provides the controls to start and stop a test.</p>
<p>To run a test:</p>
<ol>
<li>Click the load generator on the left. This shows the <strong>Test control</strong> menu on the right.</li>
<li>Select the test identifier from the drop-down list next to the <strong>Start</strong> button.</li>
<li>Click <strong>Start</strong>.</li>
</ol>
<p>The following screenshot shows a test that has been started:</p>
<p><img alt="" src="../images/test-started.png" /></p>
<p>To stop a test that is running, click the <strong>Stop</strong> button on the same page.</p>
<h2 id="viewing-test-results">Viewing test results</h2>
<p>The <strong>Load report</strong> tab provides a summary of the test being executed. The <strong>Load report</strong> consists of six tabs with additional information:</p>
<ul>
<li>
<p><strong>Status</strong> shows the current status of the test, which can be one of the following: <strong>Running</strong>, <strong>Finished</strong> or <strong>Stopped</strong>. The status <strong>Stopped</strong> is shown when the user clicks on <strong>Stop</strong> in the <strong>Runner</strong> tab.</p>
<p><img alt="Status" src="../images/status.png" /></p>
</li>
<li>
<p><strong>Assertions</strong> shows a summary of the test assertions in the selected load engine. Test assertions are checks on certain metrics (as detailed in following chapters) that are performed at the end of each phase or test.  </p>
<p><img alt="Assertions" src="../images/assertions.png" /></p>
</li>
<li>
<p><strong>Assertion details</strong> allows the user to check which assertions passed or failed in each phase or test by selecting them using the drop-down buttons.  </p>
<p><img alt="Assertion details" src="../images/assertion-details.png" /></p>
</li>
<li>
<p><strong>Response time</strong> shows a statistical report about the response time of the current protocol (selected using the drop-down buttons) in the selected load engine. It provides, among other values, the minimum, maximum, mean, variance, histogram and percentiles. At the bottom of the page, there is a table with the response time per URL requested. The response time per URL is only enabled when the HTTP plugin is configured with <code>stats_per_url</code> to <code>true</code>. (For more information, see the <a href="../protocols/">HTTP plugin</a> section.)  </p>
<p><img alt="Response time" src="../images/response-time.png" /></p>
</li>
<li>
<p><strong>Rate</strong> shows a statistical report about the rate of requests in the selected load engine. It provides, among other values, minimum, maximum, mean, variance, histogram and percentiles of the requests per second rate.  </p>
<p><img alt="Rate" src="../images/rate.png" /></p>
</li>
<li>
<p><strong>Statistics</strong> provides a direct link to the full metrics dashboard, also accessible from the <strong>Monitoring</strong> link at the top of the page.</p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../use_monitoring/" class="btn btn-neutral float-right" title="Monitoring"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../use_dashboards/" class="btn btn-neutral" title="The Megaload UI"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../use_dashboards/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../use_monitoring/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
